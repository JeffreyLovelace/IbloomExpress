<ion-header mode="ios">
  <ion-toolbar>
    <ion-buttons slot="start" (click)="dismiss()">
      <ion-button mode="md">
        <ion-icon
          slot="icon-only"
          ios="close-outline"
          md="close-outline"
        ></ion-icon>
      </ion-button>
    </ion-buttons>

    <ion-title> Mi pedido </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <div *ngFor="let comercio of comercios">
    <ion-list>
      <ion-item slot="start" lines="none">
        <ion-thumbnail slot="start">
          <img src="{{servidor}}/imagenes/{{ comercio.fotoLogo }}" />
        </ion-thumbnail>
        <ion-label>
          <h1><strong>{{comercio.nombre}}</strong></h1>
          <p></p>
        </ion-label>
      </ion-item>
      <ion-item slot="start" lines="none">
        <ion-button fill="clear">
          <ion-icon mode="ios" slot="icon-only" name="stopwatch"> > </ion-icon
          >{{tiempo}}-{{extra}} min
        </ion-button>
        <ion-button fill="clear">
          <ion-icon mode="ios" slot="icon-only" name="cash"> > </ion-icon>Min
          Bs. {{comercio.precioMinimo}}
        </ion-button>
      </ion-item>
    </ion-list>
  </div>
  <div *ngFor="let orden of ordenes">
    <div *ngIf="orden.id_pedido==id_pedido">
      <ion-list>
        <ion-item>
          <ion-label>
            <!--   <ion-button
              color="danger"
              (click)="decrement(orden.id,orden.cantidad)"
            >
              <ion-icon name="remove-outline"></ion-icon>
            </ion-button>
            -->
            <ion-button color="light"> <h2>{{orden.cantidad}}</h2></ion-button>
            <!--
            <ion-button
              color="success"
              (click)="increment(orden.id,orden.cantidad)"
            >
              <ion-icon name="add-outline"></ion-icon>
            </ion-button>
              -->
          </ion-label>
          <ion-label> {{orden.nombre}} </ion-label>
          <p slot="end" color="success">
            <ion-text color="success"
              >Bs. {{orden.precio * orden.cantidad}}</ion-text
            >
          </p>
        </ion-item>
      </ion-list>
    </div>
  </div>
  <ion-list>
    <ion-item>
      <ion-label> <h1>Total</h1> </ion-label>
      <p slot="end" color="success">
        <ion-text color="success">Bs. {{sumarOrden}}</ion-text>
      </p>
    </ion-item>
  </ion-list>
  <ion-button
    mode="ios"
    expand="block"
    shape="round"
    fill="outline"
    (click)="dismiss()"
    >Seguir agregando</ion-button
  >
  <div *ngIf="!comercios">
    <ion-list>
      <ion-item>
        <ion-thumbnail slot="start">
          <ion-skeleton-text animated></ion-skeleton-text>
        </ion-thumbnail>
        <ion-label>
          <h3>
            <ion-skeleton-text animated style="width: 50%"></ion-skeleton-text>
          </h3>
          <p>
            <ion-skeleton-text animated style="width: 80%"></ion-skeleton-text>
          </p>
          <p>
            <ion-skeleton-text animated style="width: 60%"></ion-skeleton-text>
          </p>
        </ion-label>
      </ion-item>
      <ion-item>
        <ion-thumbnail slot="start">
          <ion-skeleton-text animated></ion-skeleton-text>
        </ion-thumbnail>
        <ion-label>
          <h3>
            <ion-skeleton-text animated style="width: 50%"></ion-skeleton-text>
          </h3>
          <p>
            <ion-skeleton-text animated style="width: 80%"></ion-skeleton-text>
          </p>
          <p>
            <ion-skeleton-text animated style="width: 60%"></ion-skeleton-text>
          </p>
        </ion-label>
      </ion-item>
      <ion-item>
        <ion-thumbnail slot="start">
          <ion-skeleton-text animated></ion-skeleton-text>
        </ion-thumbnail>
        <ion-label>
          <h3>
            <ion-skeleton-text animated style="width: 50%"></ion-skeleton-text>
          </h3>
          <p>
            <ion-skeleton-text animated style="width: 80%"></ion-skeleton-text>
          </p>
          <p>
            <ion-skeleton-text animated style="width: 60%"></ion-skeleton-text>
          </p>
        </ion-label>
      </ion-item>
      <ion-item>
        <ion-thumbnail slot="start">
          <ion-skeleton-text animated></ion-skeleton-text>
        </ion-thumbnail>
        <ion-label>
          <h3>
            <ion-skeleton-text animated style="width: 50%"></ion-skeleton-text>
          </h3>
          <p>
            <ion-skeleton-text animated style="width: 80%"></ion-skeleton-text>
          </p>
          <p>
            <ion-skeleton-text animated style="width: 60%"></ion-skeleton-text>
          </p>
        </ion-label>
      </ion-item>
      <ion-item>
        <ion-thumbnail slot="start">
          <ion-skeleton-text animated></ion-skeleton-text>
        </ion-thumbnail>
        <ion-label>
          <h3>
            <ion-skeleton-text animated style="width: 50%"></ion-skeleton-text>
          </h3>
          <p>
            <ion-skeleton-text animated style="width: 80%"></ion-skeleton-text>
          </p>
          <p>
            <ion-skeleton-text animated style="width: 60%"></ion-skeleton-text>
          </p>
        </ion-label>
      </ion-item>
    </ion-list>
  </div>
</ion-content>
<ion-footer
  *ngIf="sumarOrden >= minimo"
  routerLink="/confirmarpedido/{{sumarOrden}}/{{idcomercio}}"
  line="none"
  (click)="dismiss()"
>
  <ion-toolbar>
    <ion-button mode="ios" expand="block" shape="round">Continuar</ion-button>
  </ion-toolbar>
</ion-footer>
<ion-footer *ngIf="sumarOrden < minimo">
  <ion-toolbar>
    <ion-button mode="ios" expand="block" shape="round" color="warning"
      >MÃ­nimo de compra no superado</ion-button
    >
  </ion-toolbar>
</ion-footer>
